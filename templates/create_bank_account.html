<!-- <!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Bank Account - PayShield</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
</head>

<body class="bg-light">

  <div class="container mt-5">
    <div class="card shadow-lg p-4">
      <h3 class="text-center mb-4">Your Bank Account</h3>

      {% if account %}
      <div class="alert alert-info">
        <p><strong>Account Number:</strong> {{ account.account_number }}</p>
        <p><strong>IFSC Code:</strong> {{ account.ifsc_code }}</p>
        <p><strong>Debit Card:</strong> {{ account.debit_card_number }}</p>
        <p><strong>Wallet Balance:</strong> ₹{{ account.wallet_balance }}</p>

        {% if account.upi_id %}
        <p><strong>UPI ID:</strong> {{ account.upi_id }}</p>
        
        {% if account.wallet_created %}
        <div class="alert alert-success mt-3">
          <b>Wallet Created ✅</b><br>
          Balance: ₹{{ account.wallet_balance }}<br>
          Created On: {{ account.wallet_created_at }}
        </div>
        {% else %}
        <a href="{{ url_for('wallet') }}" class="btn btn-outline-primary w-100 mt-3">Create Wallet</a>
        {% endif %}

        <div class="text-center">
          <h6 class="mt-3">Your UPI QR Code</h6>
          <img src="{{ url_for('upi_qr', upi_id=account.upi_id) }}" alt="UPI QR Code" class="img-fluid mb-2"
            style="max-width:200px;">
          <br>
          <a href="{{ url_for('upi_qr', upi_id=account.upi_id) }}" download="upi_qr.png"
            class="btn btn-success btn-sm">Download QR Code</a>
          <a href="{{ url_for('share_qr', upi_id=account.upi_id) }}" class="btn btn-success btn-sm">
            Share QR + UPI Link
          </a>
        </div>
      </div>
      {% else %}
      <form method="POST">
        <input type="hidden" name="create_upi" value="1">
        <button type="submit" class="btn btn-warning w-100 mt-3">Create UPI ID</button>
      </form>
      {% endif %}
    </div>
    {% else %}
    <form method="POST">
      <input type="hidden" name="create_account" value="1">
      <button type="submit" class="btn btn-primary w-100">Create Bank Account</button>
    </form>
    {% endif %}

    <div class="text-center mt-3">
      <a href="{{ url_for('profile') }}" class="btn btn-secondary w-100">Back to Profile</a>
    </div>
  </div>
  </div>

</body>

</html> -->
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Bank Account - PayShield</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

  <style>
    body {
      background: linear-gradient(135deg, #004E89, #00C6FF);
      background-size: 200% 200%;
      animation: bgShift 8s ease infinite;
      min-height: 100vh;
      font-family: 'Poppins', sans-serif;
      color: #fff;
    }

    @keyframes bgShift {
      0% {
        background-position: 0% 50%;
      }

      50% {
        background-position: 100% 50%;
      }

      100% {
        background-position: 0% 50%;
      }
    }

    .card {
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(15px);
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: 20px;
      box-shadow: 0 0 25px rgba(0, 198, 255, 0.3);
      color: #fff;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .card:hover {
      transform: translateY(-5px);
      box-shadow: 0 0 40px rgba(0, 198, 255, 0.6);
    }

    .btn-primary {
      background: linear-gradient(90deg, #007CF0, #00DFD8);
      border: none;
      border-radius: 12px;
      font-weight: 600;
    }

    .btn-warning {
      background: linear-gradient(90deg, #FFB703, #FB8500);
      border: none;
      border-radius: 12px;
      font-weight: 600;
    }

    .btn-success {
      background: linear-gradient(90deg, #00DFD8, #007CF0);
      border: none;
      border-radius: 10px;
    }

    .btn-outline-primary {
      color: #00C6FF;
      border: 1px solid #00C6FF;
      border-radius: 10px;
      transition: all 0.3s ease;
    }

    .btn-outline-primary:hover {
      background: #00C6FF;
      color: #fff;
    }

    h3 {
      font-weight: 700;
      color: #fff;
      text-shadow: 0 0 10px rgba(0, 198, 255, 0.7);
    }

    p,
    strong {
      font-size: 1rem;
      color: rgba(255, 255, 255, 0.9);
    }

    .alert-info {
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(0, 198, 255, 0.5);
      color: #fff;
    }

    .alert-success {
      background: rgba(0, 255, 170, 0.15);
      border: 1px solid rgba(0, 255, 170, 0.5);
      color: #fff;
    }

    .text-center h6 {
      color: #00DFD8;
      text-shadow: 0 0 6px rgba(0, 198, 255, 0.8);
    }

    img {
      border-radius: 12px;
      box-shadow: 0 0 20px rgba(0, 198, 255, 0.4);
    }

    a {
      text-decoration: none;
    }

    .btn-secondary {
      background: rgba(255, 255, 255, 0.2);
      border: none;
      color: #fff;
      border-radius: 10px;
    }

    .btn-secondary:hover {
      background: rgba(255, 255, 255, 0.4);
    }

    @media (max-width: 576px) {
      .card {
        padding: 1.5rem !important;
      }

      h3 {
        font-size: 1.4rem;
      }
    }
  </style>
</head>

<body>
  <div class="container py-5">
    <div class="card shadow-lg p-4 mx-auto" style="max-width: 550px;">
      <div class="text-center mb-4">
        <img src="static/logo.svg"
          alt="PayShield Logo" width="70" class="mb-2">
        <h3>PayShield Bank Account</h3>
      </div>

      {% if account %}
      <div class="alert alert-info">
        <p><strong>Account Number:</strong> {{ account.account_number }}</p>
        <p><strong>IFSC Code:</strong> {{ account.ifsc_code }}</p>
        <p><strong>Debit Card:</strong> {{ account.debit_card_number }}</p>
        <p><strong>Wallet Balance:</strong> ₹{{ account.wallet_balance }}</p>

        {% if account.upi_id %}
        <p><strong>UPI ID:</strong> {{ account.upi_id }}</p>

        {% if account.wallet_created %}
        <div class="alert alert-success mt-3">
          <b>Wallet Created ✅</b><br>
          Balance: ₹{{ account.wallet_balance }}<br>
          Created On: {{ account.wallet_created_at }}
        </div>
        {% else %}
        <a href="{{ url_for('wallet') }}" class="btn btn-outline-primary w-100 mt-3">Create Wallet</a>
        {% endif %}

        <div class="text-center">
          <h6 class="mt-4">Your UPI QR Code</h6>
          <img src="{{ url_for('upi_qr', upi_id=account.upi_id) }}" alt="UPI QR Code" class="img-fluid mb-2"
            style="max-width:200px;">
          <div class="d-flex justify-content-center gap-2">
            <a href="{{ url_for('upi_qr', upi_id=account.upi_id) }}" download="upi_qr.png"
              class="btn btn-success btn-sm px-3">Download</a>
            <a href="{{ url_for('share_qr', upi_id=account.upi_id) }}" class="btn btn-success btn-sm px-3">Share</a>
          </div>
        </div>
        {% else %}
        <form method="POST">
          <input type="hidden" name="create_upi" value="1">
          <button type="submit" class="btn btn-warning w-100 mt-3">Create UPI ID</button>
        </form>
        {% endif %}
      </div>
      {% else %}
      <form method="POST">
        <input type="hidden" name="create_account" value="1">
        <button type="submit" class="btn btn-primary w-100">Add Bank Account</button>
      </form>
      {% endif %}

      <div class="text-center mt-4">
        <a href="{{ url_for('profile') }}" class="btn btn-secondary w-100">← Back to Profile</a>
      </div>
    </div>
  </div>
</body>

</html>
